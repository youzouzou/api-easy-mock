{"version":3,"sources":["util/fetch.js","util/icon.js","pages/Home.jsx","pages/Detail.jsx","index.js"],"names":["commonUrl","parseJSON","response","json","checkStatus","status","error","Error","statusText","request","options","data","url","mode","body","JSON","stringify","headers","fetch","credentials","then","catch","err","postIcon","getIcon","putIcon","deleteIcon","Search","Input","Option","Select","Wrapper","styled","div","Home","state","list","type","keyword","getList","_this","method","res","console","log","length","setState","filter","onSearch","value","setTimeout","item","api","indexOf","desc","name","toUpperCase","handleChange","props","deleteApi","slice","message","success","goToDetail","history","push","pathname","params","this","className","defaultValue","style","width","onChange","placeholder","enterButton","onClick","itemLayout","dataSource","renderItem","Item","actions","block","title","onConfirm","okText","cancelText","Meta","avatar","src","description","React","Component","withRouter","TextArea","FormWrapper","JSONWrapper","Detail","formRef","createRef","jsonOptions","theme","displayDataTypes","collapseStringsAfterLength","errmsgList","addParam","index","responseList","key","onFinish","values","location","code","msg","saveApi","e","target","validateJSON","a","isJSON","Promise","reject","validateResJSON","str","obj","parse","addResponse","back","saveParamKey","saveParamValue","saveName","saveDesc","saveDefaultResponse","defaultResponse","deleteParam","splice","current","setFieldsValue","ref","initialValues","label","rules","required","disabled","autoSize","minRows","maxRows","map","_index","MinusCircleOutlined","PlusOutlined","htmlType","ReactDOM","render","path","exact","document","getElementById"],"mappings":"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","file":"static/js/main.7df6609c.chunk.js","sourcesContent":["//全局路径\r\nconst commonUrl = '/api'\r\n//解析json\r\nfunction parseJSON(response) {\r\n    return response.json()\r\n}\r\n//检查请求状态\r\nfunction checkStatus(response) {\r\n    if (response.status >= 200 && response.status < 500) {\r\n        return response\r\n    }\r\n    const error = new Error(response.statusText)\r\n    error.response = response\r\n    throw error\r\n}\r\n\r\nexport default function request(options = {}) {\r\n    const { data, url } = options\r\n    options = { ...options }\r\n    options.mode = 'cors'//跨域\r\n    delete options.url\r\n    if (data) {\r\n        delete options.data\r\n        options.body = JSON.stringify({\r\n            data\r\n        })\r\n    }\r\n    options.headers = {\r\n        'Content-Type': 'application/json'\r\n    }\r\n    return fetch(commonUrl + url, options, { credentials: 'include' })\r\n        .then(checkStatus)\r\n        .then(parseJSON)\r\n        .catch(err => ({ err }))\r\n}","export const postIcon = \"data:image/png;base64,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\"\r\nexport const getIcon = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAADcCAYAAABtYH0KAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAoZSURBVHhe7d3Zb5XVHofx8z9ZBsskUQSRMJSCNagkXiDBIRovGLxwQkSDNXqjtJQyFNrCQcgBetCWgC3QEjopBKQFTktLi9DipvOw2+9hLTfEnMSwkrPX5nfxfMgKFy9dfS/2k/Wu993k/YcAPHGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGECBhAiIABhAgYQIiAAYQIGECIgAGE+IQlJ5MaTY5qeHxYQ2NDaRtuvrHkmCYmJ1K/CZYRYgZNPvgzPjGuvtE+3e6/rfZEu1p6WnTx94tq6m5SY1dj2oab79Lvl3T93nXdHritwbFBJSeSqTOBNYSYQS7CnsEenfrPKX117iu9efxNrTq0SsvLlyunPCftw8279tha5Z/LV3N3sxLDidSZwBpCzBAXYH1XvQrqC/T+j+9rxYEVeqb4GU0rnKantj8VbcwpnqOVB1bqo1Mfqep6lY+RldEeQozM7dHcZWFdR522nd2mBXsXKLsoW3N3zdWifYu0rGyZjzLdI/dArp/7+T3Pa0bRDM3YMcPH6FZGdz6whRAjcx96t2fbUr1F8/bM8yvg0tKl2li1UYcuH9L5zvO62nNV13qv+f1cuoab0839Td03PkwXo1sZ3WWq2zPCFkKMyN21bEu0+Q+/i2Bm0UytPrxa39Z9q5r2Gt1M3FT/aH+UO5tuTje3i/Hr2q/9yuguU9ceXavW3lYuT40hxIh6h3p1uu30oxVpSekSFTQU6PLdy6l/EV/fSJ9qO2r9ZarbM7obOO7y1D3egB2EGJF7hODujrrVaGHJQq2vXO8jzGQE7jnlbz2/+T2jC9EFWXuz1gcKOwgxohOtJ/TG0Tc0e+dsvX7kdZX8UuJXyUxze0a3KrsQ3f70TPsZHmUYQ4gRlV4s1Yv7XtT0wunaVLVJF25d0MDYQOpo5vxviDVtNfpj+I/UUVhAiBEVNxVr1s5ZmlIwRZurN/sgRpIjqaOZQ4j2EWJEhQ2Fmlo4VVnbs7S1Zqs67nf475VmGiHaR4gRba/f7j/8bnxx5gvd6rvlH2lkmgvRPT55FGJ7DXtEYwgxIksh5h3M85fIS8uW6uzNs7o/cj91FBYQYkRWQnTfpHFfKnjvxHv6+PTHault0ch45veq+HuEGJGVEB9+za7yeqX/nx/uv2HBFkKMyEqID7947i5HXYTuIT9sIcSIrIQI+wgxIkJEKEKMiBARihAjIkSEIsSICBGhCDEiQkQoQoyIEBGKECMiRIQixIgIEaEIMSJCRChCjIgQEYoQIyJEhCLEiAgRoQgxIkJEKEKMiBARihAjIkSEIsSICBGhCDEiQkQoQoyIEBGKECMiRIQixIgIEaEIMSJCRChCjIgQEYoQIyJEhCLEiAgRoQgxIkJEKEKMiBARihAjIkSEIsSICBGhCDEiQkQoQoyIEBGKECNKV4juZ9y7DdsT7f413KHjxr0b/me6+ruUGEloNDmamhHWEGJE6Qqxq69LP177UW9VvKWXDr6kFQdWPHasPLBSL//zZa07tk6fVX+mipYKHyVsIsSI0hWiW9n2/7pfi/YtUtb2rEdzPm5MKZiiOcVztLR0qd6ueNufz/nO8xoYG0jNDCsIMaJ0hehWsiNXjmjNv9Zoefly5ZTnPH6U/TkW71+s+XvnK3tHtnLLc/V59edq7W3V8PhwanZYQIgRpStEt7frHerVlbtX1NzdrMauxseOhq4G1d+q10/XftJ3F77zEc7dNdeHvKt5l1p6WlKzwwJCjChdITqTk5P+Z91KNjQ2FDQGxwZ1Z+COmrqblH8uX3kH8/yl6rv/flcnb5xMzQwLCDGidIb4/xgYHVBdR502VG7Q9MLpWliyUPsv7k8dhQWEGJGVEEeSI/5xhrt7mlWQ5feLRY1FqaOwgBAjshKi+52d9zv9ObhzcXdeC+oLUkdhASFGZClE97sfhuiGOzfYQYgRESJCEWJEhIhQhBgRISIUIUZEiAhFiBERIkIRYkSEiFCEGBEhIhQhRkSICEWIEREiQhFiRISIUIQYESEiFCFGRIgIRYgRESJCEWJEhIhQhBgRISIUIUZEiAhFiBERIkIRYkSEiFCEGBEhIhQhRkSICEWIEREiQhFiRISIUIQYESEiFCFGRIgIRYgRESJCEWJEhIhQhBgRISIUIUZEiAhFiBG5Ny6599i7D/7Wmq3qSHT4t/9mGiHaR4gRuXcQPr3jaf9Owk9//tS/u35kfCR1NHMI0T5CjKjklxLN2z1P0wqnaX3letV21Pq392YaIdpHiBEdvXpUqw+v1syimXrth9e0o2GH7gze0eSDP5nkQvzri0oJ0R5CjOh853l9cvoTPbv7WT23+zm9U/GOmrubM74q/vXV3S5Ct28taOCNwZYQYkTd/d063nJcS0qXaHrhdC0sWagvz3yp+lv1qX+RGS78uo46bajc4COcXTxbu5p2pY7CAkKMaHh8WFd7rmrzz5u1rGyZsndka8WBFdpSvUUnWk/o8t3Lut1/W/2j/RocG9TQ2FBah5vTXQo3dTcp/1y+8g7mKbso2/99+Mrh1FnCAkKMzEVW01ajD099qHl7/rxxM3/vfK05usbv0ypaK1TXWaeGrgY1djWmbbj56rvqVXm9Ut9f+F655bmatXOWPwd3LudunkudISwgxMgmJid8jO6D7y5LXyh5wT/ScFEs2LtAi/cv9qtlTlmOcsrTPB7Mubh0sQ/frcbud75y6BWdvHFSdwbupM4QFhBihtwdvOv3hu7Z4qaqTXr1h1d9lLN3zvarZNb2rEd3NNM5phZO1ZziOX5F3Fi1UWWXyvwd1CfxxQL8PULMoOREUonhhL9xUthQqA+qPtDao2u16tAqrTy40u8f0z3c3OuOrdO2s9tU3Vat+yP3lZxMps4IVhBiBrnnhy5GdxfTrZCdfZ1qS7Tpxr0b/vFCjOHmbk+0P7op5CLM9HNMPB4hAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAiYAAhAgYQImAAIQIGECJgACECBhAi8MRJ/wXoTm6heASK6AAAAABJRU5ErkJggg==\"\r\nexport const putIcon = \"data:image/png;base64,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\"\r\nexport const deleteIcon = \"data:image/png;base64,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\"","import React from 'react';\r\nimport { List, Avatar, Button, Input, Select, Popconfirm, message } from 'antd';\r\nimport request from './../util/fetch';\r\nimport styled from 'styled-components';\r\nimport { postIcon, getIcon, putIcon, deleteIcon } from './../util/icon'\r\nimport { withRouter } from \"react-router-dom\";\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nconst Wrapper = styled.div`\r\n    max-width:800px;\r\n    margin: 0 auto;\r\n    padding:20px;\r\n    .operation-btn{\r\n        font-size:12px;\r\n        color: #1890ff;\r\n    }\r\n    .select{\r\n        margin:20px;\r\n    }\r\n    .search{\r\n        width:50%;\r\n        margin:20px 0;\r\n    }\r\n    .method-label{\r\n        width:50px;\r\n        display: inline-block;\r\n        background: #00CC66;\r\n        opacity:0.5;\r\n        color:#fff;\r\n        border-radius:15px;\r\n        text-align: center;\r\n        margin-right:10px;\r\n    }\r\n    .add-btn{\r\n        float:right;\r\n        margin:20px 0;\r\n    }\r\n`;\r\n\r\nclass Home extends React.Component {\r\n\r\n    state = {\r\n        data: [],\r\n        list: [],\r\n        type: \"\",\r\n        keyword: \"\"\r\n    }\r\n    componentDidMount() {\r\n        this.getList();\r\n    }\r\n\r\n\r\n    getList = () => {\r\n        const _this = this;\r\n        request({\r\n            url: '/getAllApi',\r\n            method: 'get',\r\n        }).then(function (res) {\r\n            console.log(res, typeof res)\r\n            if (res && res.length > 0) {\r\n                _this.setState({\r\n                    list: [...res]\r\n                })\r\n                _this.filter();\r\n            }\r\n        })\r\n    }\r\n\r\n    onSearch = (value) => {\r\n        console.log(value)\r\n        this.setState({\r\n            keyword: value\r\n        })\r\n        this.filter();\r\n    }\r\n\r\n    filter = () => {\r\n        setTimeout(() => {\r\n            const keyword = this.state.keyword || \"\";\r\n            const method = this.state.method || \"\";\r\n            this.setState({\r\n                data: [...this.state.list].filter(item =>\r\n                    (keyword ? (item.api.indexOf(keyword) > -1 || item.desc.indexOf(keyword) > -1 || item.name.indexOf(keyword) > -1) : true) && (method ? item.method.toUpperCase() === method : true)\r\n                )\r\n            })\r\n        })\r\n    }\r\n\r\n    getIcon = (method) => {\r\n        const upperMethod = method.toUpperCase()\r\n        switch (upperMethod) {\r\n            case \"POST\":\r\n                return postIcon;\r\n            case \"PUT\":\r\n                return putIcon;\r\n            case \"DELETE\":\r\n                return deleteIcon;\r\n            case \"GET\":\r\n                return getIcon;\r\n            default:\r\n                return postIcon;\r\n        }\r\n    }\r\n\r\n    handleChange = (value) => {\r\n        this.setState(function (state, props) {\r\n            return {\r\n                method: value\r\n            };\r\n        }\r\n        )\r\n        this.filter();\r\n    }\r\n\r\n    deleteApi = (item) => () => {\r\n        const _this = this;\r\n        request({\r\n            url: '/deleteApi?api=' + item.api.slice(1),\r\n            method: 'delete',\r\n        }).then(function (res) {\r\n            message.success('已删除');\r\n            _this.getList();\r\n        })\r\n    }\r\n\r\n    goToDetail = (item, type) => () => {\r\n        console.log(type)\r\n        const { history } = this.props;\r\n        history.push({\r\n            pathname: \"/detail\",\r\n            params: {\r\n                type: type,\r\n                data: item\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <Wrapper>\r\n            <Select className=\"select\" defaultValue=\"\" style={{ width: 120 }} onChange={this.handleChange}>\r\n                <Option value=\"\">所有类型</Option>\r\n                <Option value=\"GET\">GET请求</Option>\r\n                <Option value=\"POST\">POST请求</Option>\r\n                <Option value=\"PUT\">PUT请求</Option>\r\n                <Option value=\"DELETE\">DELETE请求</Option>\r\n            </Select>\r\n            <Search className=\"search\" placeholder=\"api/名称/描述\" onSearch={this.onSearch} enterButton />\r\n            <Button onClick={this.goToDetail(null, \"add\")} type=\"primary\" className=\"add-btn\">新增</Button>\r\n            <List\r\n                itemLayout=\"horizontal\"\r\n                dataSource={this.state.data}\r\n                renderItem={item => (\r\n                    <List.Item\r\n                        actions={[\r\n                            <Button onClick={this.goToDetail(item, \"read\")} className=\"operation-btn\" type=\"text\" block>详情</Button>,\r\n                            <Button onClick={this.goToDetail(item, \"edit\")} className=\"operation-btn\" type=\"text\" block>修改</Button>,\r\n                            <Popconfirm\r\n                                title=\"确定删除？\"\r\n                                onConfirm={this.deleteApi(item)}\r\n                                okText=\"删除\"\r\n                                cancelText=\"取消\"\r\n                            ><Button className=\"operation-btn\" type=\"text\" block>删除</Button></Popconfirm>]}>\r\n                        <List.Item.Meta\r\n                            avatar={<Avatar src={this.getIcon(item.method)} />}\r\n                            title={<div><span className=\"method-label\">{item.method}</span>{item.name}</div>}\r\n                            description={<div><div>{item.api}</div><div>{item.desc}</div></div>}\r\n                        />\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        </Wrapper>\r\n    }\r\n}\r\n\r\nexport default withRouter(Home);","import React from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport ReactJson from 'react-json-view';\r\nimport { Form, Input, Button, Select, Card, message } from 'antd';\r\nimport { PlusOutlined, MinusCircleOutlined } from '@ant-design/icons';\r\nimport request from './../util/fetch';\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst Wrapper = styled.div`\r\n    display: flex;\r\n    .input-wrapper{\r\n        display:flex;\r\n    }\r\n    .add-icon{\r\n        text-align:right;\r\n        cursor: pointer;\r\n    }\r\n    .errmsg{\r\n        margin-left:5px;\r\n        color:red;\r\n        font-size:10px;\r\n    }\r\n    .delete-icon{\r\n        margin:3px 0 0 3px;\r\n        color:#bbb;\r\n    }\r\n`;\r\nconst FormWrapper = styled.div`\r\n    flex-grow:1;\r\n    width:46%;\r\n    padding:15px 2%;\r\n    .cancel-btn{\r\n        margin-right:20px;\r\n    }\r\n`;\r\nconst JSONWrapper = styled.div`\r\n    flex-grow:1;\r\n    width:50%;\r\n`;\r\n\r\nclass Detail extends React.Component {\r\n\r\n    state = {\r\n        formRef: React.createRef(),\r\n        jsonOptions: {\r\n            theme: \"monokai\",\r\n            displayDataTypes: false,\r\n            collapseStringsAfterLength: 20,\r\n            /* onEdit: (edit) => {\r\n                console.log('编辑', edit);\r\n            } */\r\n        },\r\n        type: \"edit\",\r\n        errmsgList: [],\r\n        data: {\r\n            \"api\": \"\",\r\n            \"name\": \"\",\r\n            \"desc\": \"\",\r\n            \"method\": \"GET\",\r\n            \"headers\": {\r\n            },\r\n            \"responseList\": [],\r\n            \"defaultResponse\": \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { history } = this.props;\r\n        const params = history.location.params;\r\n        if (params && params.data) {\r\n            this.setState({\r\n                data: { ...params.data },\r\n                type: params.type\r\n            })\r\n            this.state.formRef.current.setFieldsValue(params.data)\r\n        } else if (params) {\r\n            this.setState({\r\n                type: params.type\r\n            })\r\n        }\r\n    }\r\n\r\n    addParam = (index) => () => {\r\n        console.log(index)\r\n        const data = this.state.data;\r\n        data.responseList[index].params.push({\r\n            key: \"\",\r\n            value: \"\"\r\n        })\r\n        this.setState({\r\n            data\r\n        })\r\n    }\r\n\r\n    onFinish = (values) => {\r\n        const { history } = this.props;\r\n        const data = this.state.data;\r\n        if (this.state.data.api[0] !== \"/\") {\r\n            data.api = \"/\" + data.api;\r\n            this.setState({ data })\r\n        }\r\n        request({\r\n            url: '/addApi?type=' + history.location.params.type,\r\n            method: 'post',\r\n            data: this.state.data\r\n        }).then(function (res) {\r\n            if (res.code === 200) {\r\n                message.success('已保存');\r\n                history.push(\"/home\")\r\n            } else {\r\n                message.error(res.msg);\r\n            }\r\n\r\n        })\r\n    };\r\n\r\n    handleChange = (value) => {\r\n        const data = this.state.data;\r\n        data.method = value\r\n        this.setState({\r\n            data\r\n        })\r\n    }\r\n\r\n    saveApi = (e) => {\r\n        const data = this.state.data;\r\n        data.api = e.target.value;\r\n        this.setState({ data })\r\n    }\r\n\r\n    validateJSON = async (e, value) => {\r\n        if (value && !this.isJSON(value)) {\r\n            return Promise.reject(new Error('JSON格式错误'));\r\n        }\r\n    }\r\n\r\n    validateResJSON = (e, index) => {\r\n        // const errmsgList = this.state.errmsgList;\r\n        // if (e.target.value && !this.isJSON(e.target.value)) {\r\n        //     errmsgList[index] = \"JSON格式错误\"\r\n        // } else {\r\n        //     errmsgList[index] = \"\";\r\n        // }\r\n        // this.setState({ errmsgList })\r\n\r\n        const data = this.state.data;\r\n        data.responseList[index].response = e.target.value;\r\n        this.setState({\r\n            data\r\n        })\r\n\r\n    }\r\n\r\n    isJSON = (str) => {\r\n        if (typeof str === 'string') {\r\n            try {\r\n                var obj = JSON.parse(str);\r\n                if (typeof obj === 'object' && obj) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n\r\n            } catch (e) {\r\n                console.log('error：' + str + '!!!' + e);\r\n                return false;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    addResponse = () => {\r\n        const data = this.state.data;\r\n        data.responseList.push({\r\n            \"params\": [\r\n                {\r\n                    \"key\": \"\",\r\n                    \"value\": \"\"\r\n                }\r\n            ],\r\n            \"response\": \"\"\r\n        })\r\n        const errmsgList = this.state.errmsgList;\r\n        errmsgList.push(\"\");\r\n        this.setState({\r\n            data,\r\n            errmsgList\r\n        })\r\n    }\r\n\r\n    back = () => {\r\n        this.props.history.push(\"/home\");\r\n    }\r\n\r\n    saveParamKey = (e, item) => {\r\n        item.key = e.target.value;\r\n    }\r\n\r\n    saveParamValue = (e, item) => {\r\n        item.value = e.target.value;\r\n    }\r\n\r\n    saveName = (e) => {\r\n        const data = this.state.data;\r\n        data.name = e.target.value;\r\n        this.setState({\r\n            data\r\n        })\r\n    }\r\n\r\n    saveDesc = (e) => {\r\n        const data = this.state.data;\r\n        data.desc = e.target.value;\r\n        this.setState({\r\n            data\r\n        })\r\n    }\r\n\r\n    saveDefaultResponse = (e) => {\r\n        const data = this.state.data;\r\n        data.defaultResponse = e.target.value;\r\n        this.setState({\r\n            data\r\n        })\r\n    }\r\n\r\n    deleteParam = (list, index) => {\r\n        list.splice(index, 1)\r\n        this.setState({})\r\n    }\r\n\r\n    render() {\r\n        return <Wrapper>\r\n            <FormWrapper>\r\n                <Form\r\n                    ref={this.state.formRef}\r\n                    initialValues={this.state.data}\r\n                    name=\"basic\"\r\n                    onFinish={this.onFinish}\r\n                >\r\n                    <Form.Item\r\n                        label=\"接口名称\"\r\n                        name=\"name\"\r\n                        rules={[{ required: true, message: '必填项' }]}\r\n                    >\r\n                        <Input onChange={this.saveName} />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"接口路径\"\r\n                        name=\"api\"\r\n                        rules={[{ required: true, message: '必填项' }]}\r\n                    >\r\n                        <Input disabled={this.state.type !== 'add'} placeholder=\"/api\" onChange={this.saveApi} />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"请求方法\"\r\n                        name=\"method\"\r\n                        required\r\n                    >\r\n                        <Select onChange={this.handleChange}>\r\n                            <Option value=\"GET\">GET</Option>\r\n                            <Option value=\"POST\">POST</Option>\r\n                            <Option value=\"PUT\">PUT</Option>\r\n                            <Option value=\"DELETE\">DELETE</Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"接口描述\"\r\n                        name=\"desc\"\r\n                    >\r\n                        <Input onChange={this.saveDesc} />\r\n                    </Form.Item>\r\n\r\n\r\n                    <Form.Item\r\n                        label=\"默认返回结果\"\r\n                        name=\"defaultResponse\"\r\n                    // rules={[{\r\n                    //     validator: this.validateJSON,\r\n                    // }]}\r\n                    >\r\n                        <TextArea\r\n                            onChange={this.saveDefaultResponse}\r\n                            placeholder=\"默认返回值\"\r\n                            autoSize={{ minRows: 3, maxRows: 6 }}\r\n                        />\r\n                    </Form.Item>\r\n                    {\r\n                        this.state.data.responseList ? this.state.data.responseList.map((res, index) =>\r\n                            <Card key={index} title={\"组合\" + (index + 1)}>\r\n                                <div>\r\n                                    参数值\r\n                                </div>\r\n                                {\r\n                                    res.params ? res.params.map((item, _index) =>\r\n                                        <div className=\"input-wrapper\" key={_index}>\r\n                                            <Input onChange={(e) => { this.saveParamKey(e, item) }} defaultValue={item.key} style={{ width: \"150px\" }} placeholder=\"参数名称\" />\r\n                                            <Input onChange={(e) => { this.saveParamValue(e, item) }} defaultValue={item.value} placeholder=\"参数值\" />\r\n                                            <span className=\"delete-icon\">\r\n                                                <MinusCircleOutlined onClick={() => { this.deleteParam(res.params, _index) }} />\r\n                                            </span>\r\n                                        </div>\r\n                                    ) : null\r\n                                }\r\n                                <div className=\"add-icon\" onClick={this.addParam(index)}><Button block><PlusOutlined />添加请求参数</Button>\r\n                                </div>\r\n                                <br />\r\n                                <div>\r\n                                    返回值\r\n                                    <span className=\"errmsg\">{this.state.errmsgList[index]}</span>\r\n                                    <TextArea\r\n                                        defaultValue={res.response}\r\n                                        placeholder=\"根据参数返回的请求结果\"\r\n                                        autoSize={{ minRows: 3, maxRows: 6 }}\r\n                                        onChange={(e) => { this.validateResJSON(e, index) }}\r\n                                    />\r\n                                </div>\r\n                            </Card>\r\n                        ) : null\r\n                    }\r\n\r\n                    <div onClick={this.addResponse}>\r\n                        <Button block><PlusOutlined />添加组合</Button>\r\n                    </div>\r\n                    <br />\r\n                    <Form.Item>\r\n                        <Button onClick={this.back} className=\"cancel-btn\">\r\n                            返回\r\n                        </Button>\r\n                        {\r\n                            this.state.type === \"read\" ? null :\r\n                                <Button type=\"primary\" htmlType=\"submit\">\r\n                                    保存\r\n                                </Button>\r\n                        }\r\n                    </Form.Item>\r\n                </Form>\r\n            </FormWrapper>\r\n            <JSONWrapper>\r\n                <ReactJson {...this.state.jsonOptions} src={this.state.data} />\r\n            </JSONWrapper>\r\n        </Wrapper>\r\n    }\r\n}\r\n\r\nexport default withRouter(Detail);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n// import reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport Home from './pages/Home'\r\nimport Detail from './pages/Detail'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Switch>\r\n      <Route path=\"/\" exact render={() => <Home />}></Route>\r\n      <Route path=\"/home\" render={() => <Home />}></Route>\r\n      <Route path=\"/detail\" render={() => <Detail />}></Route>\r\n    </Switch>\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}